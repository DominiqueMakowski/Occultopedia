<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Occultopedia</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <!-- Top Navigation -->
        <div class="top-nav">
            <button class="nav-tab active" onclick="switchTab('societies')">Network</button>
            <a
                href="https://github.com/DominiqueMakowski/Occultopedia"
                target="_blank"
                class="nav-tab"
                style="text-decoration: none; margin-left: auto"
            >
                <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 5px">
                    <path
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
                    ></path>
                </svg>
                View on GitHub
            </a>
        </div>

        <div class="view-container">
            <!-- View 1: Societies (3-Column Layout) -->
            <div id="view-societies" class="view active">
                <!-- Left Sidebar: List -->
                <div id="sidebar-left">
                    <div class="sidebar-header">
                        <h2>Index</h2>
                        <div class="search-container">
                            <input type="text" id="search-input" placeholder="Search..." />
                            <div id="active-tags" class="active-tags"></div>
                            <select id="tag-filter">
                                <option value="">Add Tag Filter...</option>
                            </select>
                        </div>
                    </div>
                    <ul class="nav-list" id="nav-list">
                        <!-- Nav items injected here -->
                    </ul>
                </div>

                <!-- Center: Network -->
                <div id="network-container" style="flex: 1; position: relative; overflow: hidden">
                    <canvas id="network-canvas"></canvas>
                    <div
                        id="network-tooltip"
                        style="
                            display: none;
                            position: absolute;
                            background: rgba(0, 0, 0, 0.8);
                            padding: 5px 10px;
                            border-radius: 4px;
                            pointer-events: none;
                        "
                    ></div>
                    <div
                        id="network-controls"
                        style="
                            position: absolute;
                            top: 10px;
                            left: 10px;
                            background: rgba(0, 0, 0, 0.5);
                            padding: 10px;
                            border-radius: 5px;
                            display: flex;
                            flex-direction: column;
                            gap: 5px;
                        "
                    >
                        <label><input type="checkbox" id="show-labels" checked /> Show Labels</label>
                        <select
                            id="network-connection-mode"
                            style="background: #333; color: #fff; border: 1px solid #555; padding: 2px; border-radius: 3px"
                        >
                            <option value="aesthetic">Connect by: Aesthetic</option>
                            <option value="practice">Connect by: Practice</option>
                            <option value="location">Connect by: Location</option>
                            <option value="era">Connect by: Era</option>
                            <option value="all" selected>Connect by: All Tags</option>
                        </select>
                        <div style="display: flex; align-items: center; gap: 5px; color: white; font-size: 12px">
                            <label for="connection-threshold">Min Strength:</label>
                            <input type="range" id="connection-threshold" min="1" max="10" value="5" style="width: 60px" />
                            <span id="threshold-value">5</span>
                        </div>
                        <div
                            id="network-legend"
                            style="margin-top: 5px; display: flex; flex-direction: column; gap: 2px; font-size: 11px; color: #ccc"
                        >
                            <!-- Legend items injected by JS -->
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar: Detail -->
                <div
                    id="sidebar-right"
                    style="
                        width: 500px;
                        background-color: #1e1e1e;
                        border-left: 1px solid #333;
                        overflow-y: auto;
                        display: flex;
                        flex-direction: column;
                        flex-shrink: 0;
                    "
                >
                    <div id="detail-container" style="padding: 20px">
                        <p style="text-align: center; color: #666; margin-top: 100px">
                            Select a society from the list or network to view details.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <script src="database.js"></script>
        <script src="images.js"></script>
        <script src="script.js"></script>
    </body>
</html>
